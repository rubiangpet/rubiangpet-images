<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë£¨ë¹„ì•™í« GPT ì±—ë´‡</title>
  <style>
    body { font-family: sans-serif; background: white; padding: 20px; }
    #chatbox { max-width: 600px; margin: auto; }
    input[type="text"] {
      width: 100%; padding: 10px;
      border: 1px solid #ccc; border-radius: 5px; margin-top: 10px;
    }
    button {
      margin-top: 10px; padding: 10px 15px;
      background: #007bff; color: white;
      border: none; border-radius: 5px; cursor: pointer;
    }
    #response { margin-top: 1em; white-space: pre-line; font-size: 15px; }
  </style>
</head>
<body>
  <div id="chatbox">
    <h3>ğŸ“¦ <strong>ì œí’ˆ ê³ ë¯¼?</strong> í•œ ì¤„ë§Œ ë‚¨ê²¨ë³´ì„¸ìš”.</h3>
    <input type="text" id="question" placeholder="ì˜ˆ: ì•ŒëŸ¬ì§€ì— ì¢‹ì€ ê°„ì‹ ìˆì–´ìš”?" />
    <button onclick="askGPT()">ì§ˆë¬¸í•˜ê¸°</button>
    <div id="response"></div>
  </div>

  <script>
    const OPENAI_API_KEY = window.OPENAI_KEY || "";

    async function askGPT() {
      const q = document.getElementById("question").value;
      const resBox = document.getElementById("response");
      resBox.innerText = "ë‹µë³€ ìƒì„± ì¤‘... â³";

      const prompt = "ë„ˆëŠ” ë°˜ë ¤ë™ë¬¼ ì „ë¬¸ ì‡¼í•‘ëª°ì˜ ì œí’ˆ ì¶”ì²œ ì±—ë´‡ì´ì•¼. ê³ ê° ì§ˆë¬¸ì„ ì´í•´í•˜ê³  ì¹œì ˆí•˜ê²Œ ê´€ë ¨ ì œí’ˆì„ ì œì•ˆí•´ì¤˜. ë„ˆë¬´ ê¸¸ê²Œ ë§í•˜ì§€ ë§ê³  ì‹¤ì œ ì œí’ˆì´ ìˆë‹¤ë©´ ì˜ˆì‹œë„ ì œì‹œí•´ì¤˜.\n\nê³ ê° ì§ˆë¬¸: " + q;

      try {
        const response = await fetch("https://api.openai.com/v1/chat/completions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": "Bearer " + OPENAI_API_KEY
          },
          body: JSON.stringify({
            model: "gpt-3.5-turbo",
            messages: [{ role: "user", content: prompt }],
            temperature: 0.7
          })
        });

        const result = await response.json();
        const text = result.choices?.[0]?.message?.content || "ë‹µë³€ ìƒì„± ì‹¤íŒ¨";
        resBox.innerText = text;
      } catch (err) {
        resBox.innerText = "âŒ ì˜¤ë¥˜: " + err.message;
      }
    }
  </script>
</body>
</html>